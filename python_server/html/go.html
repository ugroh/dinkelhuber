<head>
    <link rel="stylesheet" href="../styles/go.css">
    <link rel="stylesheet" href="../styles/explorer_box.css">
    <meta charset="utf-8"/>
</head>
<body>
    

<div id="main-wrap" class="is2d">
    <main class="analyse variant-standard gauge-on">
       <div class="analyse__board main-board">
          <div class="cg-wrap cgv1 orientation-white manipulable">
             <cg-helper>
                <cg-container>
                   <cg-board>
                    <div id="go_board">
                        <canvas id="board_cv" width="800" height="800"></canvas>
                    </div>
                   </cg-board>
                </cg-container>
             </cg-helper>
          </div>
       </div>
       <div class="analyse__tools">
          <section class="explorer-box sub-box">
             <div class="overlay"></div>
             <div class="data">
                <div class="title"><span title="A04 Réti Opening"><strong>A04</strong> Réti Opening</span></div>
                <table class="moves">
                   <thead>
                      <tr>
                         <th class="title">Move</th>
                         <th class="title">Games</th>
                         <th class="title" style="min-width:10vw">White / Draw / Black</th>
                      </tr>
                   </thead>
                   <tbody data-fen="rnbqkbnr/pppppppp/8/8/8/5N2/PPPPPPPP/RNBQKB1R b KQkq - 1 1">
                      <tr data-uci="g8f6" title="Average rating: 2417">
                         <td>Nf6</td>
                         <td>111,709</td>
                         <td>
                            <div class="bar"><span class="white" style="width: 33.8%">34%</span><span class="draws" style="width: 44.9%">45%</span><span class="black" style="width: 21.3%">21%</span></div>
                         </td>
                      </tr>
                      <tr data-uci="d7d5" title="Average rating: 2426">
                         <td>d5</td>
                         <td>63,585</td>
                         <td>
                            <div class="bar"><span class="white" style="width: 32.7%">33%</span><span class="draws" style="width: 44.5%">44%</span><span class="black" style="width: 22.9%">23%</span></div>
                         </td>
                      </tr>
                      <tr data-uci="c7c5" title="Average rating: 2420">
                         <td>c5</td>
                         <td>28,543</td>
                         <td>
                            <div class="bar"><span class="white" style="width: 31.6%">32%</span><span class="draws" style="width: 43.4%">43%</span><span class="black" style="width: 25.1%">25%</span></div>
                         </td>
                      </tr>
                      <tr data-uci="g7g6" title="Average rating: 2404">
                         <td>g6</td>
                         <td>12,247</td>
                         <td>
                            <div class="bar"><span class="white" style="width: 33.4%">33%</span><span class="draws" style="width: 38.3%">38%</span><span class="black" style="width: 28.3%">28%</span></div>
                         </td>
                      </tr>
                      <tr data-uci="f7f5" title="Average rating: 2386">
                         <td>f5</td>
                         <td>6,177</td>
                         <td>
                            <div class="bar"><span class="white" style="width: 40.5%">40%</span><span class="draws" style="width: 36.7%">37%</span><span class="black" style="width: 22.8%">23%</span></div>
                         </td>
                      </tr>
                      <tr data-uci="d7d6" title="Average rating: 2396">
                         <td>d6</td>
                         <td>6,161</td>
                         <td>
                            <div class="bar"><span class="white" style="width: 35.7%">36%</span><span class="draws" style="width: 36.9%">37%</span><span class="black" style="width: 27.5%">27%</span></div>
                         </td>
                      </tr>
                      <tr data-uci="e7e6" title="Average rating: 2397">
                         <td>e6</td>
                         <td>3,629</td>
                         <td>
                            <div class="bar"><span class="white" style="width: 40.3%">40%</span><span class="draws" style="width: 38.2%">38%</span><span class="black" style="width: 21.4%">21%</span></div>
                         </td>
                      </tr>
                      <tr data-uci="b8c6" title="Average rating: 2366">
                         <td>Nc6</td>
                         <td>1,468</td>
                         <td>
                            <div class="bar"><span class="white" style="width: 38.1%">38%</span><span class="draws" style="width: 39%">39%</span><span class="black" style="width: 22.9%">23%</span></div>
                         </td>
                      </tr>
                      <tr data-uci="b7b6" title="Average rating: 2420">
                         <td>b6</td>
                         <td>1,026</td>
                         <td>
                            <div class="bar"><span class="white" style="width: 33.9%">34%</span><span class="draws" style="width: 38.7%">39%</span><span class="black" style="width: 27.4%">27%</span></div>
                         </td>
                      </tr>
                      <tr data-uci="b7b5" title="Average rating: 2375">
                         <td>b5</td>
                         <td>439</td>
                         <td>
                            <div class="bar"><span class="white" style="width: 37.8%">38%</span><span class="draws" style="width: 36.4%">36%</span><span class="black" style="width: 25.7%">26%</span></div>
                         </td>
                      </tr>
                      <tr data-uci="c7c6" title="Average rating: 2376">
                         <td>c6</td>
                         <td>257</td>
                         <td>
                            <div class="bar"><span class="white" style="width: 33.1%">33%</span><span class="draws" style="width: 44.7%">45%</span><span class="black" style="width: 22.2%">22%</span></div>
                         </td>
                      </tr>
                      <tr data-uci="h7h6" title="Average rating: 2406">
                         <td>h6</td>
                         <td>18</td>
                         <td>
                            <div class="bar"><span class="white" style="width: 44.4%">44%</span><span class="draws" style="width: 27.8%">28%</span><span class="black" style="width: 27.8%">28%</span></div>
                         </td>
                      </tr>
                   </tbody>
                </table>
             </div>
          </section>
       </div>
    </main>
 </div> 
<script>
const start = 100
const fin = 700
const move_off = (fin-start)/8
const stone_size = 74

var onturn = false
var stone_black = new Image(stone_size,stone_size)
stone_black.src = "../images/black_stone.png"
var stone_white = new Image(stone_size,stone_size)
stone_white.src = "../images/white_stone.png"

var canvas = document.getElementById("board_cv");
var ctx = canvas.getContext("2d");
ctx.lineStyle = "#000000";
ctx.fillStyle = "#333333";
ctx.font = "bold 35px Arial";
letters = ["A","B","C","D","E","F","G","H","I"]
for (var i = 0; i < 9;i+=1){
    pos = start+move_off*i
    ctx.moveTo(pos, start);
    ctx.lineTo(pos, fin);
    ctx.moveTo(start, pos);
    ctx.lineTo(fin, pos);
    ctx.fillText(letters[i], pos-10, 50);
    ctx.fillText(9-i, 30, pos+10);
}
ctx.stroke();
dot_poses = [[2,2],[4,4],[6,2],[2,6],[6,6]]
for (var i in dot_poses) {
    dp = dot_poses[i]
    ctx.fillStyle = "#000000";
    ctx.beginPath();
    ctx.arc(start+move_off*dp[0], start+move_off*dp[1], 5, 0, 2 * Math.PI);
    ctx.closePath();
    ctx.fill();
}
function make_move(move){
    pos = [start+move_off*(move[0]-1), start+move_off*(move[1]-1)]
    if (onturn){
        ctx.drawImage(stone_black,pos[0]-stone_size/2,pos[1]-stone_size/2,stone_size,stone_size)
    }
    else{
        ctx.drawImage(stone_white,pos[0]-stone_size/2,pos[1]-stone_size/2,stone_size,stone_size)
    }
    onturn = !onturn;
}
</script>
</body>